<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title th:text="'Student - '+${pageTitle}"></title>
        <link
            rel="icon"
            type="image/png"
            sizes="16x16"
            th:href="@{images/svdfc-logo.png}"
        >
        <!-- Custom CSS -->
        <link th:href="@{/css/userpageCSS/style.min.css}" rel="stylesheet">
        <link th:href="@{/css/croppie.css}" rel="stylesheet">
        <th:block th:if="${page =='myrequests' || page =='documents'}">
            <link th:href="@{/css/userpageCSS/dataTables.bootstrap4.css}" rel="stylesheet">
        </th:block>
    </head>
    <style>
       
        .card-header-table {
          position: sticky;
          top: 0;
          background-color: #f7f7f7;
          border-bottom: 1px solid #ddd;
         
        }
       
        .table {
          margin-bottom: 0;
         
        }
        .table td,
        .table th {
          border: none;
        }
    </style>
    <body>
        <!-- ============================================================== -->
        <!-- Preloader-->
        <!-- ============================================================== -->
        <preloader th:replace="student/templates :: preloader"></preloader>
        <!-- ============================================================== -->
        <!-- Main wrapper-->
        <!-- ============================================================== -->
        <div
            id="main-wrapper"
            data-layout="vertical"
            data-navbarbg="skin5"
            data-sidebartype="full"
            data-sidebar-position="absolute"
            data-header-position="absolute"
            data-boxed-layout="full"
            class=""
        >
            <header th:replace="student/templates :: header"></header>
            <aside th:replace="student/templates :: aside"></aside>
            <!-- ============================================================== -->
            <!-- End Left Sidebar-->
            <!-- ============================================================== -->
            <!-- ============================================================== -->
            <!-- Page wrapper  -->
            <!-- ============================================================== -->
            <th:block th:switch="${page}">
                <th:block th:case="'dashboard'">
                    <div class="page-wrapper">
                        <!-- ============================================================== -->
                        <!-- Bread crumb and right sidebar toggle -->
                        <!-- ============================================================== -->
                        <div class="page-breadcrumb">
                            <div class="row">
                                <div class="col-12 d-flex no-block align-items-center">
                                    <h4 class="page-title">Dashboard</h4>
                                    <div class="ms-auto text-end">
                                        <nav aria-label="breadcrumb">
                                            <ol class="breadcrumb">
                                                <li class="breadcrumb-item">
                                                    <a href="#">Home</a>
                                                </li>
                                                <li class="breadcrumb-item active" aria-current="page">Dashboard</li>
                                            </ol>
                                        </nav>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- ============================================================== -->
                        <!-- End Bread crumb and right sidebar toggle -->
                        <!-- ============================================================== -->
                        <!-- ============================================================== -->
                        <!-- Container fluid  -->
                        <!-- ============================================================== -->
                        <div class="container-fluid">
                            <!-- ============================================================== -->
                            <!-- Rows -->
                            <!-- ============================================================== -->
                            <div class="row">
                                <div class="col-md-8">
                                    <div class="container-fluid">
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="card card-hover">
                                                    <div class="box bg-primary text-center">
                                                        <h1 class="font-light text-white">
                                                            <i class="fas fa-table"></i>
                                                        </h1>
                                                        <h6 class="text-white">My Total Request</h6>
                                                        <h6 class="text-white totalRequests">0</h6>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- Column -->
                                            <div class="col-md-6 ">
                                                <div class="card card-hover">
                                                    <div class="box bg-success text-center">
                                                        <h1 class="font-light text-white">
                                                            <i class="far fa-check-square"></i>
                                                        </h1>
                                                        <h6 class="text-white">My Total Approved Request</h6>
                                                        <h6 class="text-white totalApprovedRequests">0</h6>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6 ">
                                                <div class="card card-hover">
                                                    <div class="box bg-danger text-center">
                                                        <h1 class="font-light text-white">
                                                            <i class="fas fa-ban"></i>
                                                        </h1>
                                                        <h6 class="text-white">My Total Rejected Request</h6>
                                                        <h6 class="text-white totalRejectedRequests">0</h6>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6 ">
                                                <div class="card card-hover">
                                                    <div class="box bg-cyan text-center">
                                                        <h1 class="font-light text-white">
                                                            <i class="mdi mdi-folder"></i>
                                                        </h1>
                                                        <h6 class="text-white">My Files</h6>
                                                        <h6 class="text-white totalUploaded">0</h6>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3 flex-fill dtcard ">
                                    <div class="card card-hover w-100 align-self-center">
                                        <div class="card-body">
                                            <div class="todo-widget text-center" style="height:20px;">
                                                <h4 class="text-danger" id="dayValueMain">Today is Monday</h4>
                                                <span class="text-danger" id="dateValueMain">00/00/2022</span>
                                            </div>
                                            <div class="todo-widget text-black-50 text-center" style="height:20px;"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </th:block>
                <th:block th:case="'documents'">
                    <div class="page-wrapper">
                        <!-- ============================================================== -->
                        <!-- Bread crumb and right sidebar toggle -->
                        <!-- ============================================================== -->
                        <div class="page-breadcrumb">
                            <div class="row">
                                <div class="col-12 d-flex no-block align-items-center">
                                    <h4 class="page-title">Request Document</h4>
                                    <div class="ms-auto text-end">
                                        <nav aria-label="breadcrumb">
                                            <ol class="breadcrumb">
                                                <li class="breadcrumb-item">
                                                    <a href="#">Home</a>
                                                </li>
                                                <li class="breadcrumb-item active" aria-current="page">My Files</li>
                                            </ol>
                                        </nav>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- ============================================================== -->
                        <!-- End Bread crumb and right sidebar toggle -->
                        <!-- ============================================================== -->
                        <!-- ============================================================== -->
                        <!-- Container fluid  -->
                        <!-- ============================================================== -->
                        <div class="container-fluid">
                            <div class="card">
                                <div class="card-body table-responsive">
                                    <h5 class="
                            card-title
                            ">My Files</h5>
                                    <div>
                                        <table id="zero_config" class="table table-bordered">
                                            <thead>
                                                <tr>
                                                    <th>Action</th>
                                                    <th>File</th>
                                                    <th>Upload By</th>
                                                    <th>Size</th>
                                                </tr>
                                            </thead>
                                            <tbody class="fileBody">
                                                <tr th:each="file : ${files}">
                                                    <td>
                                                        <a th:href="@{'/student/files/download?id='} + ${file.fileId}" type="button" class="btn btn-primary w-100">
                                                            Download
                                                        </a>
                                                    </td>
                                                    <td th:text="${file.name}"></td>
                                                    <td th:text="${file.uploadedBy}"></td>
                                                    <td th:text="${file.size}"></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </th:block>
                <th:block th:case="'doc_cards'">
                    <div class="page-wrapper">
                        <!-- ============================================================== -->
                        <!-- Bread crumb and right sidebar toggle -->
                        <!-- ============================================================== -->
                        <div class="page-breadcrumb">
                            <div class="row">
                                <div class="col-12 d-flex no-block align-items-center">
                                    <h4 class="page-title">Available Documents</h4>
                                    <div class="ms-auto text-end">
                                        <nav aria-label="breadcrumb">
                                            <ol class="breadcrumb">
                                                <li class="breadcrumb-item">
                                                    <a href="#">Requests</a>
                                                </li>
                                                <li class="breadcrumb-item active" aria-current="page">Documents</li>
                                            </ol>
                                        </nav>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- ============================================================== -->
                        <!-- End Bread crumb and right sidebar toggle -->
                        <!-- ============================================================== -->
                        <!-- ============================================================== -->
                        <!-- Container fluid  -->
                        <!-- ============================================================== -->
                        <div class="container-fluid">
                            <div class="container">
                                <div class="card mb-4 el-card">
                                    <div class="card-header"></div>
                                    <div class="card-body ">
                                        <div class="row cardRow">
                                            <div class="mainLoaderDiv">
                                                <div id="loaderDiv">
                                                    <div class="cardLoader">
                                                        <div class="loader-wheel"></div>
                                                        <div class="loader-text"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </th:block>
                <th:block th:case="myrequests">
                    <div class="page-wrapper">
                        <!-- ============================================================== -->
                        <!-- Bread crumb and right sidebar toggle -->
                        <!-- ============================================================== -->
                        <div class="page-breadcrumb">
                            <div class="row">
                                <div class="col-12 d-flex no-block align-items-center">
                                    <h4 class="page-title">Request Document</h4>
                                    <div class="ms-auto text-end">
                                        <nav aria-label="breadcrumb">
                                            <ol class="breadcrumb">
                                                <li class="breadcrumb-item">
                                                    <a href="#">Request</a>
                                                </li>
                                                <li class="breadcrumb-item active" aria-current="page">My Requests</li>
                                            </ol>
                                        </nav>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- ============================================================== -->
                        <!-- End Bread crumb and right sidebar toggle -->
                        <!-- ============================================================== -->
                        <!-- ============================================================== -->
                        <!-- Container fluid  -->
                        <!-- ============================================================== -->
                        <div class="container-fluid">
                            <div class="card shadow rounded rounded-3">
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <h5 class="card-title">My Requests</h5>
                                        <table id="zero_config" class="table  text-center">
                                            <thead class="bg-light bg-gradient text-danger">
                                                <tr>
                                                    <th>Request Document</th>
                                                    <th>Status</th>
                                                    <th>Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody></tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Modals -->
        <div
            class="modal fade "
            id="detailModal"
            data-bs-backdrop="static"
            data-bs-keyboard="false"
            tabindex="-1"
            role="dialog"
            aria-labelledby="detailModal"
            aria-hidden="true"
        >
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">
                            <span id="titleVal">More Details</span>
                        </h5>
                        <button
                            type="button"
                            class="btn-close clearDetailModal"
                            data-bs-dismiss="modal"
                            aria-label="Close"
                        ></button>
                    </div>
                    <div id="detail-modal-body" class="modal-body"></div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary clearDetailModal" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Modal -->
        <div
            class="modal fade"
            id="editRequirements"
            tabindex="-1"
            aria-labelledby="editingModalLabel"
            aria-hidden="true"
            data-bs-backdrop="static"
            data-bs-keyboard="false"
        >
            <div class="modal-dialog ">
                <div class="modal-content">
                    <div class="modal-header">
                        File Editing
                    </div>
                    <div class="modal-body">
                        <div
                            id="editingAlert"
                            style="display:none"
                            class="alert alert-danger"
                            role="alert"
                        ></div>
                        <form id="reqUpForm">
                            <div class="mt-2  form-floating" style="display:none">
                                <input
                                    name="fileId"
                                    type="text"
                                    class="form-control floatingInput"
                                    id="fileId"
                                    readonly
                                >
                                <label for="fileId">
                                    File Id
                                    <span class="badge badge-secondary text-danger ">*</span>
                                </label>
                            </div>
                            <div id="inputFile" style="display:none">
                                <input
                                    style="display:block"
                                    class="mt-2 form-control"
                                    name="file"
                                    type="file"
                                    id="fileData"
                                    accept="image/*, application/pdf, application/msword"
                                >
                                <div class="row mt-3">
                                    <div class="col-sm">
                                        <button type="button" class="btn btn-danger text-white w-100 saveChanges">Save</button>
                                    </div>
                                    <div class="col-sm">
                                        <button type="reset" class="btn btn-secondary text-white  w-100 clearRequest">Cancel</button>
                                    </div>
                                </div>
                            </div>
                            <hr>
                            <div class="form-group d-flex align-items-center">
                                <div class="flex-grow-1">
                                    <label for="file" class="mr-2">
                                        Select File to update
                                        <span class="badge badge-secondary text-danger">*</span>
                                    </label>
                                </div>
                                <button type="button" class="btn btn-primary ml-auto toggleAddNewFile">Add File</button>
                            </div>
                            <div class="table-responsive">
                                <table class="table table-white w-100 ">
                                    <thead>
                                        <tr>
                                            <th>Action</th>
                                            <th>File Name</th>
                                        </tr>
                                    </thead>
                                    <tbody class="edit-file-table">
                                        <tr style="width:2px; white-space: pre-wrap; word-spacing: 1px; ">
                                            <td></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary cancelUpdateBtn" data-bs-dismiss="modal">Cancel</button>
                    </div>
                </div>
            </div>
        </div>
        <div
            class="modal fade"
            id="addRequirements"
            tabindex="-1"
            aria-labelledby="addingModalLabel"
            aria-hidden="true"
            data-bs-backdrop="static"
            data-bs-keyboard="false"
        >
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        File Adding
                    </div>
                    <div class="modal-body">
                        <div
                            id="addingAlert"
                            style="display:none"
                            class="alert alert-danger"
                            role="alert"
                        ></div>
                        <form id="reqAddForm">
                            <div>
                                <input
                                    style="display:block"
                                    class="mt-2 form-control"
                                    name="addFile"
                                    type="file"
                                    id="inputAddFile"
                                    accept="image/*, application/pdf, application/msword"
                                >
                                <div class="row mt-3">
                                    <div class="col-sm">
                                        <button class="btn btn-primary text-white w-100 addFileData">Add</button>
                                    </div>
                                    <div class="col-sm">
                                        <button type="reset" class="btn btn-secondary text-white w-100 clearAddingData">Reset</button>
                                    </div>
                                </div>
                            </div>
                            <hr>
                            <div class="form-group d-flex align-items-center">
                                <div class="flex-grow-1">
                                    <label for="addFile" class="mr-2">
                                        Files
                                        <span class="badge badge-secondary text-danger">*</span>
                                    </label>
                                </div>
                            </div>
                            <div class="table-responsive">
                                <table class="table table-white w-100">
                                    <thead>
                                        <tr>
                                            <th>Action</th>
                                            <th>File Name</th>
                                        </tr>
                                    </thead>
                                    <tbody class="add-file-table">
                                        <tr style="width: 2px; white-space: pre-wrap; word-spacing: 1px;">
                                            <td></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary cancelAddBtn" data-bs-dismiss="modal">Cancel</button>
                        <button type="button" class="btn btn-success saveFiles">Save Changes</button>
                    </div>
                </div>
            </div>
        </div>
        <div
            class="modal fade"
            id="resubmitReqModal"
            tabindex="-1"
            aria-labelledby="resubmitReqModalLabel"
            aria-hidden="true"
            data-bs-backdrop="static"
            data-bs-keyboard="false"
        >
            <div class="modal-dialog ">
                <div class="modal-content">
                    <div class="modal-header">
                        Are you sure to re-submit the request?
                    </div>
                    <div class="modal-body">
                        <b class="text-danger">Note</b>
                        <ul>
                            <li>
                                <p>Make sure that all of the requirements is correct.</p>
                            </li>
                            <li>
                                <p>
                                    Please keep in mind that if you do not meet all of the
                                        requirements, your request will be rejected.
                                </p>
                            </li>
                        </ul>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary cancelResubmit" data-bs-dismiss="modal">Cancel</button>
                        <button type="button" class="btn btn-primary confirmResubmit">Confirm</button>
                    </div>
                </div>
            </div>
        </div>
        <div
            class="modal fade"
            id="editReqInfos"
            tabindex="-1"
            aria-labelledby="editingModalLabel"
            aria-hidden="true"
            data-bs-backdrop="static"
            data-bs-keyboard="false"
        >
            <div class="modal-dialog ">
                <div class="modal-content">
                    <div class="modal-header">
                        Informations Editing
                    </div>
                    <div class="modal-body">
                        <div
                            id="editingInfoAlert"
                            style="display:none"
                            class="alert alert-danger"
                            role="alert"
                        ></div>
                        <form id="reqInfoUpForm">
                            <div class="col-sm ">
                                <div class="mt-2  form-floating" th:if="${#session.getAttribute('username')!=null}" style="display:none">
                                    <input
                                        name="studentId"
                                        type="text"
                                        class="form-control floatingInput"
                                        id="studentId"
                                        th:value="${#session.getAttribute('username')}"
                                        placeholder="Student Id"
                                        readonly
                                    >
                                    <label for="userId">
                                        Student Id
                                        <span class="badge badge-secondary text-danger ">*</span>
                                    </div>
                                    <div class="mt-2 form-floating" th:if="${#session.getAttribute('name')!=null}" style="display:none">
                                        <input
                                            id="studName"
                                            name="name"
                                            type="text"
                                            class="form-control floatingInput"
                                            th:value="${#session.getAttribute('name')}"
                                            placeholder=" Student Name"
                                            readonly
                                        >
                                        <label for="studName">
                                            Student Name
                                            <span class="badge badge-secondary text-danger ">*</span>
                                        </div>
                                        <div class=" mt-2 form-floating">
                                            <select
                                                id="schoolLevel"
                                                name="schoolLevel"
                                                class="form-select"
                                                placeholder="Select School Level"
                                            >
                                                <option value="n/a">--School Level--</option>
                                                <option value="pre-school">Pre School</option>
                                                <option value="elementary">Elementary</option>
                                                <option value="junior-high">Junior High School</option>
                                                <option value="senior-high">Senior High School</option>
                                                <option value="college">College</option>
                                            </select>
                                            <label for="schoolLevel">
                                                School Level
                                                <span class="badge badge-secondary text-danger ">*</span>
                                            </div>
                                            <div class="mt-2 form-floating yearSelect" style="display:none"></div>
                                            <div class=" mt-2 form-floating courseSelect" style="display:none"></div>
                                            <div class=" mt-2  form-floating semGradeSelect" style="display:none"></div>
                                            <div class="mt-2 form-floating">
                                                <textarea
                                                    id="message"
                                                    name="message"
                                                    class="form-control floatingInput"
                                                    maxlength="1000"
                                                    style="height:150px"
                                                ></textarea>
                                                <label id="messageLengthLabel" for="message">
                                                    You can add message here with
                                            maximum of (1000
                                            letters)
                                                </label>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary cancelInfoUpdate" data-bs-dismiss="modal">Cancel</button>
                                    <button type="button" class="btn btn-primary saveInfoUpdate">
                                        Save
                                Changes
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </th:block>
            </th:block>
        </div>
    </div>
</div>
<div class="modalView"></div>
<script type="text/javascript" th:src="@{/js/a_libraries/jquery.js}"></script>
<script type="text/javascript" th:src="@{/js/a_libraries/croppie.js}"></script>
<script type="text/javascript" th:src="@{/js/a_libraries/bootstrap.bundle.js}"></script>
<script type="text/javascript" th:src="@{/js/a_libraries/perfect-scrollbar.jquery.min.js}"></script>
<script type="text/javascript" th:src="@{/js/a_libraries/waves.js}"></script>
<script type="text/javascript" th:src="@{/js/a_libraries/sidebarmenu.js}"></script>
<script type="text/javascript" th:src="@{/js/a_libraries/custom.min.js}"></script>
<script type="text/javascript" th:src="@{/js/a_libraries/datatables.min.js}"></script>
<script type="text/javascript" th:src="@{/js/a_libraries/sockjs.min.js}"></script>
<script type="text/javascript" th:src="@{/js/a_libraries/stomp.min.js}"></script>
<script type="text/javascript" th:src="@{/js/websocket-config.js}"></script>
<script type="text/javascript" th:src="@{/js/realtime_loads/realtime_notification.js}"></script>
<th:block th:switch="${page}">
    <th:block th:case="'dashboard'">
        <script type="text/javascript" th:src="@{/js/realtime_loads/realtime_totals.js}"></script>
    </th:block>
    <th:block th:case="'documents'">
        <script type="text/javascript">$("#zero_config").DataTable({
                "ordering": false,
                "destroy": true
        });
        </script>
    </th:block>
    <th:block th:case="'doc_cards'">
        <script type="text/javascript" th:src="@{/js/realtime_loads/realtime_doc_cards.js}"></script>
    </th:block>
    <th:block th:case="'myrequests'">
        <script type="text/javascript" th:src="@{/js/manage_request_js-ajax-jquery/request_list.js}"></script>
        <script type="text/javascript" th:src="@{/js/userpageJS/course-year-level_Selection.js}"></script>
    </th:block>
</th:block>
<script type="text/javascript" th:src="@{/js/userpageJS/usermanual.js}"></script>
</body>
</html>
